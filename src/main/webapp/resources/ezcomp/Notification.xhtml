<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
          
    <!-- INTERFACE -->
    <cc:interface>
        <composite:attribute name="render"/>
        <composite:attribute name="counter"/>     
    </cc:interface>
        
    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-globe"></span><b class="caret"></b></a>
                <ul class="dropdown-menu">
                    <div class="notifications-wrapper">                                           
                            <div class="notification-item">
                                <ui:repeat var="m" value="#{home.getMessages()}" varStatus="status">
                                    <tr>
                                        <td class="order-table-even-row">#{m.emailFrom}</td>
                                        <td class="order-table-even-row">#{m.subject}</td>
                                        <td class="order-table-even-row">#{home.simpleDateDisplay(m.dateEnvoi)}</td>
                                        <td class="order-table-even-row">#{m.message}</td>
                                        <li class="divider"></li>
                                    </tr>
                                </ui:repeat>
                            </div>                             
                    </div>
                </ul>
            </li>
            <ui:fragment rendered="#{cc.attrs.render}">
                <li class="notification-container">              
                    <span style=
                          "color: #fff;
                          background-color: rgba(212, 19, 13, 1);
                          border-radius: 3px;
                          padding: 7px 7px;
                          -moz-border-radius: 10px;
                          border-radius: 20px;
                          display: block;
                          height: 20px;
                          width: 20px;
                          line-height: 6px;">
                        #{cc.attrs.counter}
                    </span>
                </li>
            </ui:fragment>
        </ul>   
    </cc:implementation>
</html>